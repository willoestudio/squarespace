!function(){"use strict";var e;e=function(){[{selector:".body",mappings:[{prop:"--siteBackgroundColor",variable:"--body-background",fallback:"#F9F8F4"},{prop:"--siteFontColor",variable:"--body-font-color",fallback:"#242424"}]},{selector:'[data-section-theme="light"]',mappings:[{prop:"--siteBackgroundColor",variable:"--light",fallback:"#F9F8F4"}]},{selector:'[data-section-theme="dark"]',mappings:[{prop:"--siteBackgroundColor",variable:"--dark",fallback:"#242424"}]},{selector:'[data-section-theme="accent"]',mappings:[{prop:"--siteBackgroundColor",variable:"--accent",fallback:"#897866"}]}].forEach(({selector:e,mappings:t})=>{let o=document.querySelector(e);if(o){let l=getComputedStyle(o);t.forEach(({prop:e,variable:t,fallback:o})=>{let n=l.getPropertyValue(e).trim()||o;document.documentElement.style.setProperty(t,n)})}}),[{selector:".sqs-heading-font",variable:"--heading-font-font-family"},{selector:".sqs-body-font",variable:"--body-font-font-family"}].forEach(({selector:e,variable:t})=>{let o=document.querySelector(e);if(o){let l=getComputedStyle(o).fontFamily;document.documentElement.style.setProperty(t,l)}}),function e(){function t(){let e=document.getElementById("custom-hamburger-template"),t=document.querySelector(".custom-popout-menu"),o=document.querySelector(".header-actions");if(!t&&o&&e){let l=e.content.cloneNode(!0);o.appendChild(l)}}t();let o=new MutationObserver(t);o.observe(document.body,{childList:!0,subtree:!0});let l=document.getElementById("custom-hamburger"),n=document.getElementById("custom-pop-out"),a=document.getElementById("custom-popout-menu");if(!l||!n)return;let r=l.querySelector(".custom-burger-text"),i=r?.textContent||"Explore",s="Close",c=()=>"/desktop-menu"===window.location.pathname,d=()=>document.body.classList.contains("sqs-edit-mode");function u(){let e=c()&&d();l.setAttribute("aria-expanded",String(e)),n.classList.toggle("menu-visible",e),n.classList.toggle("menu-hidden",!e),r&&(r.textContent=e?s:i)}fetch("/desktop-menu").then(e=>e.text()).then(e=>{let t=new DOMParser().parseFromString(e,"text/html"),o=t.querySelector("#page .page-section");o&&a&&(a.innerHTML=o.outerHTML)}).catch(()=>{a&&(a.innerHTML="<p>Menu content unavailable</p>")}),u();let m=new MutationObserver(u);m.observe(document.body,{attributes:!0,attributeFilter:["class"]}),l.addEventListener("click",function(){if(d()&&c())return;let e="true"===l.getAttribute("aria-expanded");l.setAttribute("aria-expanded",String(!e)),n.classList.toggle("menu-visible"),n.classList.toggle("menu-hidden"),r&&(r.style.opacity="0",setTimeout(()=>{r.textContent=e?i:s,r.style.opacity="1"},400))});let p=document.querySelector(".header-menu-nav-folder-content");if(p&&!document.querySelector(".mobile-menu-book-btn")){let b=document.createElement("a");b.href="/book",b.textContent="Book Now",b.className="mobile-menu-book-btn",p.appendChild(b)}}(),function e(){let t=document.getElementById("custom-hamburger"),o=document.querySelector(".sqs-announcement-bar");function l(){if(!t||!o)return;let e=window.getComputedStyle(o),l=o.offsetHeight>0&&!o.classList.contains("sqs-announcement-bar-hidden")&&"none"!==e.display&&"hidden"!==e.visibility&&parseFloat(e.opacity)>0;t.style.top=l?`calc(1.6vw + ${o.offsetHeight}px)`:"1.6vw"}if(l(),document.addEventListener("click",e=>{e.target.closest(".sqs-announcement-bar-close")&&t&&(t.style.top="1.6vw")}),o){let n=new MutationObserver(()=>setTimeout(l,50));n.observe(o,{attributes:!0,childList:!0,subtree:!0})}window.addEventListener("resize",l);let a=0,r=setInterval(()=>{l(),++a>10&&clearInterval(r)},100);function i(){let e=document.querySelector(".sqs-announcement-bar-dropzone");e&&document.body.classList.toggle("announcement-visible",e.offsetHeight>5)}i(),window.addEventListener("load",i),window.addEventListener("resize",i)}(),function e(){let t=document.querySelector("body.homepage .page-section.black:first-of-type");t&&(t.style.height=window.innerHeight+"px")}(),function e(){let t=document.querySelector(".blog-basic-grid, .blog-list, .summary-block-wrapper"),o=document.querySelector(".category-filter");if(!t||!o)return;let l=Array.from(t.querySelectorAll(".blog-item"));l.forEach(e=>{let t=e.querySelector("h1, h2, h3"),o=t?t.textContent.trim():"Untitled";e.setAttribute("data-title",o.toLowerCase());let l=e.querySelector("time");if(l){let n=new Date(l.getAttribute("datetime")||l.textContent);isNaN(n)||e.setAttribute("data-date",n.toISOString())}let a=e.querySelectorAll(".blog-categories"),r=Array.from(a).map(e=>e.textContent.trim().toLowerCase().replace(/\s+/g,"-"));e.setAttribute("data-categories",r.join(","))}),fetch("/blog?format=json").then(e=>e.json()).then(e=>{let t=new Set;e.items.forEach(e=>{e.categories&&e.categories.forEach(e=>t.add(e))});let n=Array.from(t).sort(),a=document.createElement("button");a.className="filter-btn active",a.textContent="All",a.setAttribute("data-filter","all"),o.appendChild(a),n.forEach(e=>{let t=document.createElement("button");t.className="filter-btn",t.textContent=e,t.setAttribute("data-filter",e.toLowerCase().replace(/\s+/g,"-")),o.appendChild(t)});let r=document.querySelectorAll(".filter-btn");r.forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("data-filter");r.forEach(e=>e.classList.remove("active")),e.classList.add("active"),l.forEach(e=>{let o=e.getAttribute("data-categories")||"";e.style.display="all"===t||o.includes(t)?"":"none"})})})}).catch(()=>{});let n=document.getElementById("sort-trigger"),a=document.querySelector(".sort-options"),r=document.querySelectorAll(".sort-option");n&&a&&r.length>0&&(n.addEventListener("click",()=>{a.style.display="block"===a.style.display?"none":"block"}),r.forEach(e=>{e.addEventListener("click",function(){let e=this.dataset.sort;n.textContent="Sort: "+this.textContent,a.style.display="none";let o=[...l].sort((t,o)=>{let l=t.dataset.title||"",n=o.dataset.title||"",a=new Date(t.dataset.date||0),r=new Date(o.dataset.date||0);return"date-desc"===e?r-a:"date-asc"===e?a-r:"title-asc"===e?l.localeCompare(n):"title-desc"===e?n.localeCompare(l):0});o.forEach(e=>t.appendChild(e))})}),document.addEventListener("click",e=>{e.target.closest("#sort-trigger")||e.target.closest(".sort-options")||(a.style.display="none")}))}()},"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}();
