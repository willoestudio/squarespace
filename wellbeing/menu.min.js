document.addEventListener("DOMContentLoaded",function(){function e(){let e=document.getElementById("custom-hamburger-template"),t=document.querySelector(".custom-popout-menu"),o=document.querySelector(".header-actions");if(!t&&o&&e){let n=e.content.cloneNode(!0);o.appendChild(n)}}e();let t=new MutationObserver(e);t.observe(document.body,{childList:!0,subtree:!0});let o=document.getElementById("custom-hamburger"),n=document.getElementById("custom-pop-out"),r=document.getElementById("custom-popout-menu"),l=o?.querySelector(".custom-burger-text"),i=l?.textContent||"Explore",s="Close",a=()=>"/desktop-menu"===window.location.pathname,u=()=>document.body.classList.contains("sqs-edit-mode");function c(){if(!o||!n)return;let e=a()&&u();o.setAttribute("aria-expanded",String(e)),n.classList.toggle("menu-visible",e),n.classList.toggle("menu-hidden",!e),l&&(l.textContent=e?s:i)}fetch("/desktop-menu").then(e=>e.text()).then(e=>{let t=new DOMParser().parseFromString(e,"text/html"),o=t.querySelector("#page .page-section");o&&(r.innerHTML=o.outerHTML)}).catch(e=>console.error("Error loading pop-out content:",e)),c();let d=new MutationObserver(c);d.observe(document.body,{attributes:!0,attributeFilter:["class"]}),o?.addEventListener("click",function(){if(u()&&a())return;let e="true"===o.getAttribute("aria-expanded");o.setAttribute("aria-expanded",String(!e)),n.classList.toggle("menu-visible"),n.classList.toggle("menu-hidden"),l&&(l.style.opacity="0",setTimeout(()=>{l.textContent=e?i:s,l.style.opacity="1"},400))});let m=document.querySelector(".header-menu-nav-folder-content");if(m&&!document.querySelector(".mobile-menu-book-btn")){let p=document.createElement("a");p.href="/book",p.textContent="Book Now",p.className="mobile-menu-book-btn",m.appendChild(p)}});